<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFrameworks>net6.0;net7.0</TargetFrameworks>
    <Nullable>enable</Nullable>
    <AssemblyName>SadConsole</AssemblyName>
    <DocumentationFile>SadConsole.xml</DocumentationFile>
    <Version>10.0.0-alpha4</Version>
    <Version Condition="'$(Configuration)'=='Debug'">$(Version)-debug</Version>
    <Authors>Thraka</Authors>
    <Company>SadLogic</Company>
    <NeutralLanguage>en-US</NeutralLanguage>
    <AssemblyTitle>SadConsole (.NET Standard)</AssemblyTitle>
    <Description>A library that emulates old-school console and command prompt style graphics. Targets .NET 6.</Description>
    <Copyright>Copyright © 2022 Steve De George JR (Thraka)</Copyright>
    <GeneratePackageOnBuild>true</GeneratePackageOnBuild>
    <PackageId>SadConsole</PackageId>
    <PackageIcon>nugeticon.png</PackageIcon>
    <RepositoryUrl>https://github.com/SadConsole/SadConsole</RepositoryUrl>
    <RepositoryType>git</RepositoryType>
    <PublishRepositoryUrl>true</PublishRepositoryUrl>
    <PackageReadmeFile>README.md</PackageReadmeFile>
    <PackageProjectUrl>http://sadconsole.com/</PackageProjectUrl>
    <PackageLicenseExpression>MIT</PackageLicenseExpression>
    <IncludeSymbols>true</IncludeSymbols>
    <IncludeSource>true</IncludeSource>
    <SymbolPackageFormat>snupkg</SymbolPackageFormat>
    <EmbedAllSources>true</EmbedAllSources>
    <PackageTags>roguelike;cli;game;development;console;ansi;ascii;textmode;monogame;sfml;sadconsole</PackageTags>
    <PackageReleaseNotes>
- Themes have been removed. Each control draws itself.
- IScreenObject no longer implements IEnumerable to access the children. Use the .Children collection property instead.
- Update and Render no longer check for IsEnabled and IsVisible, respectively. When those methods run, the properties are checked on the children before calling the respective method. This moves the check outside of the object itself, and relies on the parent object to do it. This eliminates the need for an object to check itself, and allows you to bypass the check when you want.
- Added Table and Tab controls.
- Entities.Renderer renamed Entities.EntityRenderer.
    </PackageReleaseNotes>
  </PropertyGroup>

  <ItemGroup>
    <AssemblyAttribute Include="System.Runtime.CompilerServices.InternalsVisibleToAttribute">
      <_Parameter1>SadConsole.Tests</_Parameter1>
    </AssemblyAttribute>
  </ItemGroup>

  <!--
  <PropertyGroup>
    <EnableNETAnalyzers>true</EnableNETAnalyzers>
    <AnalysisMode>AllEnabledByDefault</AnalysisMode>
  </PropertyGroup>
  -->

  <ItemGroup>
    <Compile Remove="Input\ConsoleViewInputHandler.cs" />
    <Compile Remove="Input\MouseEventArgs.cs" />
    <Compile Remove="SerializedTypes\AnimatedConsole.cs" />
    <Compile Remove="SerializedTypes\CellSurface.cs" />
    <Compile Remove="SerializedTypes\CellSurfaceLayer.cs" />
    <Compile Remove="SerializedTypes\Console.cs" />
    <Compile Remove="SerializedTypes\Entity.cs" />
    <Compile Remove="SerializedTypes\ScreenObject.cs" />
    <Compile Remove="SerializedTypes\ScreenSurface.cs" />
    <Compile Remove="SerializedTypes\ScrollingConsole.cs" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Newtonsoft.Json" Version="13.0.3" />
    <!--<PackageReference Include="SharpFNT" Version="2.0.0" />-->
    <PackageReference Include="TheSadRogue.Primitives" Version="1.6.0-rc3-debug" />
    <PackageReference Include="Microsoft.SourceLink.GitHub" Version="1.1.1" PrivateAssets="All" />
  </ItemGroup>

  <ItemGroup>
    <EmbeddedResource Include="Resources\IBM8x16_NoPadding_extended.png" />
    <EmbeddedResource Include="Resources\IBM_ext.font" />
    <EmbeddedResource Include="Resources\IBM8x16.png" />
    <EmbeddedResource Include="Resources\IBM.font" />
    <EmbeddedResource Include="Resources\logo.ans" />
    <None Include="Resources\readme.txt" pack="true" PackagePath="." />
    <None Include="Resources\nugeticon.png" pack="true" PackagePath="." />
    <None Include="..\README.md" pack="true" PackagePath="." />
    <None Remove="SadConsole.xml" />
  </ItemGroup>

  <Target Name="CopyPackage" AfterTargets="Pack">
    <Copy SourceFiles="$(OutputPath)\$(PackageId).$(PackageVersion).nupkg" DestinationFolder="$(OutputPath)..\..\..\nuget" />
    <Copy SourceFiles="$(OutputPath)\$(PackageId).$(PackageVersion).snupkg" DestinationFolder="$(OutputPath)..\..\..\nuget" />
  </Target>

</Project>
